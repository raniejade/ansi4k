branches:
  only: master

jobs:
  include:
    - os: linux
      language: java
      jdk: openjdk11
      script:
        - ./gradlew jvmTest
        - ./gradlew linuxX64Test

    - os: osx
      language: java
      jdk: openjdk11
      script: ./gradlew macosX64Test

    - os: windows
      language: shell
      install:
        - powershell -f "ci/jabba.ps1"
      before_script:
        - jabba install zulu@1.11.0-2
        - jabba use zulu@1.11.0-2
      script: ./gradlew mingwX64Test

